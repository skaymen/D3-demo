<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" type="text/css" href="d3.css">
    <link rel="stylesheet" type="text/css" href="c3.min.css">
    <script type="text/javascript" src="d3.min.js"> </script>
    <script type="text/javascript" src="c3.min.js"></script>
    <meta charset="UTF-8">
    <title>Title</title>
</head>

<body>

<div id="chart"></div>

</body>



<script>



    d3.json("1day.json", function(err,data) {
        console.log("data length: ",data.length);

        var min = data[0]["value"];
        var max = data[0]["value"];
        var times = ["x"];
        var values = ["discharge, cubic feet per second"];

        for (var i=0; i<data.length; i++) {
            if (min > data[i]["value"]) {
                min = data[i]["value"];
            }
            if (max < data[i]["value"]) {
                max = data[i]["value"];
            }

            times.push(data[i]["dateTime"].slice(11,19));
            values.push(data[i]["value"]);
        }

        var chart = c3.generate({
            bindto: '#chart',
            data: {
                type: "spline",
                selection: {
                    draggable: true
                },
                xFormat: '%H:%M:%S',
                x: "x",
                columns: [
                    times,values
                ]
            },

            axis : {
                x : {
                    type : 'timeseries',
                    tick: {
                        format: '%H:%M:%S'
                        //format: '%Y' // format string is also available for timeseries data
                    },
                    label: "Time"
                }
            },
            zoom: {
                enabled: true
            },

            subchart: {
                show: true
            }
        });


        console.log(times);
        console.log(values);

        console.log("Min is ", min);
        console.log("Max is ", max);

    });



</script>

</html>

